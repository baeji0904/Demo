:root{
  --bg:#061428;
  --bg2:#0b1630;
  --panel:#0f1f3b;
  --panel-soft:#101e34;
  --ink:#f5f7ff;
  --muted:#a3b3d9;
  --accent:#60a5ff;
  --accent2:#8b5cf6;
  --radius-lg:22px;
  --radius-md:18px;
  --radius-sm:12px;
  --shadow-soft:0 18px 40px rgba(0,0,0,0.55);
  --border-soft:1px solid rgba(255,255,255,0.05);
  --border-strong:1px solid rgba(255,255,255,0.12);
  --hp-red:#f97373;
  --hp-green:#22c55e;
}

*{box-sizing:border-box}
html,body{
  margin:0;
  padding:0;
  background:radial-gradient(circle at top,#1e3a8a 0,#020617 55%);
  color:var(--ink);
  font:14px/1.5 system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
}

.page{
  max-width:1200px;
  margin:24px auto;
  padding:12px 18px 32px;
  border-radius:28px;
  background:radial-gradient(circle at top,#1d4ed8 0,#020617 70%);
  box-shadow:0 25px 80px rgba(0,0,0,0.8);
}

/* Header */

header{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:16px;
  margin-bottom:18px;
}

h1{
  margin:0;
  font-size:28px;
  text-shadow:0 3px 10px rgba(0,0,0,.7);
}

.header-sub{
  font-size:13px;
  color:var(--muted);
  margin-top:4px;
}

.header-sub-small{
  font-size:11px;
  color:var(--muted);
}

.row{
  display:flex;
  align-items:center;
  gap:8px;
  flex-wrap:wrap;
}

.tag{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:6px 10px;
  border-radius:999px;
  background:rgba(15,23,42,0.9);
  border:var(--border-soft);
  color:var(--muted);
  font-size:12px;
}
.tag b{color:var(--ink)}

/* Buttons */

.btn{
  border-radius:999px;
  border:none;
  padding:8px 14px;
  font-size:13px;
  background:linear-gradient(135deg,#3b82f6,#6366f1);
  color:#fff;
  cursor:pointer;
  box-shadow:0 10px 20px rgba(37,99,235,0.5);
  border:1px solid rgba(255,255,255,0.15);
  transition:transform .12s ease, box-shadow .12s ease, background .12s ease, opacity .12s ease;
}
.btn:hover{
  transform:translateY(-1px);
  box-shadow:0 14px 28px rgba(37,99,235,0.75);
}
.btn:active{
  transform:translateY(0);
  box-shadow:0 6px 14px rgba(15,23,42,0.9);
}
.btn-small{
  padding:6px 12px;
  font-size:12px;
}
.btn-ghost{
  background:rgba(15,23,42,0.9);
  box-shadow:none;
  border:1px solid rgba(148,163,184,0.6);
  color:var(--muted);
}
.btn-ghost:hover{
  background:rgba(15,23,42,1);
  color:var(--ink);
}
.btn-wide{
  min-width:120px;
  justify-content:center;
}
.btn-purple{
  background:linear-gradient(135deg,#a855f7,#7c3aed);
}
.btn-blue{
  background:linear-gradient(135deg,#3b82f6,#2563eb);
}
.btn-teal{
  background:linear-gradient(135deg,#22c55e,#14b8a6);
}
.btn-gray{
  background:linear-gradient(135deg,#6b7280,#4b5563);
}

/* Layout */

.layout{
  display:grid;
  grid-template-columns:3fr 2fr;
  gap:18px;
}
@media(max-width:960px){
  .layout{
    grid-template-columns:1fr;
  }
}

.card-frame{
  backdrop-filter:blur(18px);
}

.card{
  background:radial-gradient(circle at top left,#1f2937 0,#020617 70%);
  border-radius:var(--radius-lg);
  padding:16px 18px 18px;
  border:var(--border-soft);
  box-shadow:var(--shadow-soft);
}
.main-card{
  min-height:420px;
}
.side-card{
  min-height:420px;
}

/* Card header */

.card-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:10px;
}
.card-header span:first-child{
  font-weight:600;
}

/* HP bars */

.hp-row{
  display:grid;
  grid-template-columns:120px minmax(0,1fr) 80px;
  align-items:center;
  gap:8px;
  margin-bottom:6px;
}
.hp-label{
  display:flex;
  flex-direction:column;
  gap:2px;
}
.hp-label .name{
  font-weight:600;
  font-size:13px;
}
.badge{
  align-self:flex-start;
  padding:2px 8px;
  border-radius:999px;
  background:rgba(15,23,42,0.85);
  border:var(--border-soft);
  font-size:11px;
  color:var(--muted);
}
.hp-bar-wrap{
  background:rgba(15,23,42,0.95);
  border-radius:999px;
  padding:3px;
  border:1px solid rgba(15,23,42,1);
}
.hp-bar{
  height:12px;
  border-radius:999px;
  background:linear-gradient(90deg,#22c55e,#15803d);
  transition:width .15s ease;
}
.hp-bar.enemy{
  background:linear-gradient(90deg,#f97373,#ef4444);
}
.hp-text{
  text-align:right;
  font-size:12px;
  color:var(--muted);
}

/* Battle area */

.battle-wrap{
  position:relative;
  margin-top:14px;
  padding:16px;
  border-radius:var(--radius-md);
  background:radial-gradient(circle at top left,#1f2937 0,#020617 80%);
  border:1px solid rgba(15,23,42,0.9);
  box-shadow:inset 0 0 0 1px rgba(148,163,184,0.12);
  min-height:150px;
}

.entity-box{
  position:absolute;
  max-width:240px;
  padding:10px 12px;
  border-radius:18px;
  background:radial-gradient(circle at top left,#16a34a 0,#0f172a 80%);
  color:#e5fbe8;
  border:1px solid rgba(34,197,94,0.4);
  box-shadow:0 12px 30px rgba(15,23,42,0.9);
}
.entity-box.player{
  left:8px;
  bottom:12px;
}
.entity-box.enemy{
  right:8px;
  top:12px;
  background:radial-gradient(circle at top left,#f97373 0,#0f172a 80%);
  border-color:rgba(248,113,113,0.55);
}
.entity-name{
  font-weight:600;
  margin-bottom:4px;
}
.entity-sub{
  font-size:12px;
  color:#e5e7eb;
}

/* Enemy hand */

.enemy-hand{
  margin-top:48px;
  margin-bottom:6px;
  display:grid;
  grid-template-columns:repeat(5,minmax(0,1fr));
  gap:8px;
  opacity:.96;
}

/* Hand (player deck) */

.hand{
  margin-top:14px;
  display:grid;
  grid-template-columns:repeat(5,minmax(0,1fr));
  gap:10px;
}

/* Card UI */

.card-ui{
  position:relative;
  border-radius:16px;
  padding:8px 10px 10px;
  background:linear-gradient(180deg,#f9fafb,#e5e7eb);
  box-shadow:0 12px 30px rgba(15,23,42,0.85);
  color:#111827;
  font-size:11px;
  display:flex;
  flex-direction:column;
  gap:6px;
  cursor:pointer;
  transition:transform .12s ease, box-shadow .12s ease, border-color .12s ease;
  border:1px solid rgba(15,23,42,0.35);
}
.hand .card-ui:hover,
.overlay-cards .card-ui:hover{
  transform:translateY(-3px);
  box-shadow:0 16px 32px rgba(15,23,42,0.95);
}
.card-ui.selected{
  outline:2px solid #38bdf8;
  box-shadow:0 0 0 1px #38bdf8,0 18px 38px rgba(15,23,42,0.95);
}
.card-top-row{
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.card-tag{
  padding:3px 8px;
  border-radius:999px;
  font-size:10px;
  background:#e5e7eb;
  color:#4b5563;
}
.card-element-pill{
  display:inline-flex;
  align-items:center;
  gap:4px;
  padding:3px 8px;
  border-radius:999px;
  font-size:10px;
  border:1px solid rgba(15,23,42,0.16);
}
.card-element-pill .icon{
  font-size:11px;
}
.elem-fire{background:#fee2e2;color:#b91c1c;}
.elem-poison{background:#f3e8ff;color:#7e22ce;}
.elem-electric{background:#fef9c3;color:#92400e;}
.elem-water{background:#e0f2fe;color:#075985;}
.elem-normal{background:#e5e7eb;color:#374151;}

.card-name-area{
  text-align:center;
}
.card-name{
  font-weight:700;
  font-size:14px;
}
.card-role{
  font-size:11px;
  color:#4b5563;
}
.card-body{
  margin-top:4px;
  padding:6px 7px;
  border-radius:10px;
  background:#f3f4f6;
  min-height:46px;
}
.card-stats{
  display:grid;
  grid-template-columns:repeat(3,minmax(0,1fr));
  gap:4px;
  margin-top:4px;
}
.card-stats div{
  display:flex;
  flex-direction:column;
  gap:2px;
  font-size:10px;
}
.card-stats span:last-child{
  font-weight:600;
  font-size:11px;
}

/* enemy card scale */
.enemy-hand .card-ui,
.card-ui.card-enemy{
  transform:scale(.87);
  transform-origin:top center;
  font-size:10px;
}

/* Bottom row controls */

.bottom-row{
  margin-top:12px;
  padding-top:8px;
  border-top:1px solid rgba(15,23,42,0.7);
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:12px;
  font-size:12px;
  color:var(--muted);
}
.speed-buttons{
  display:inline-flex;
  border-radius:999px;
  padding:2px;
  background:rgba(15,23,42,0.95);
  border:1px solid rgba(148,163,184,0.5);
}
.speed-buttons button{
  border:none;
  border-radius:999px;
  background:transparent;
  color:var(--muted);
  font-size:11px;
  padding:3px 10px;
  cursor:pointer;
}
.speed-buttons button.active{
  background:linear-gradient(135deg,#3b82f6,#6366f1);
  color:#fff;
}

/* Side card / log */

.log-box{
  margin-top:6px;
  padding:10px;
  border-radius:14px;
  background:rgba(15,23,42,0.9);
  border:1px solid rgba(30,64,175,0.8);
  max-height:250px;
  overflow:auto;
  font-size:12px;
}
.log-entry{
  margin-bottom:4px;
}
.log-entry .turn{
  color:#38bdf8;
  margin-right:4px;
}

.aside{
  margin-top:14px;
  font-size:12px;
  color:var(--muted);
}
.aside-title{
  font-size:13px;
  font-weight:600;
  margin-bottom:4px;
}

/* Overlay base */

.overlay-backdrop{
  position:fixed;
  inset:0;
  background:rgba(15,23,42,0.75);
  backdrop-filter:blur(16px);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:50;
}
.overlay-backdrop.show{
  display:flex;
}
.overlay{
  width:100%;
  max-width:640px;
  background:radial-gradient(circle at top,#1f2937 0,#020617 70%);
  border-radius:24px;
  padding:18px 18px 16px;
  border:1px solid rgba(148,163,184,0.6);
  box-shadow:0 24px 60px rgba(0,0,0,0.9);
}
.overlay-doc{
  max-width:780px;
}

.overlay h2{
  margin:0 0 6px;
  font-size:20px;
}
.overlay-sub{
  font-size:13px;
  color:var(--muted);
  margin-bottom:8px;
}
.overlay-cards{
  margin-top:8px;
  display:grid;
  grid-template-columns:repeat(2,minmax(0,1fr));
  gap:10px;
}
.overlay-footer{
  margin-top:12px;
  display:flex;
  justify-content:flex-end;
  gap:8px;
}

.reward-note{
  margin-top:6px;
  font-size:11px;
  color:var(--muted);
}
.reward-actions{
  margin-top:10px;
  display:flex;
  flex-direction:column;
  gap:8px;
}
.reward-actions-row{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
}

/* Help overlay */

.help-tabs{
  display:flex;
  gap:8px;
  margin:12px 0 8px;
  flex-wrap:wrap;
}
.help-tabs button{
  border-radius:999px;
  border:1px solid rgba(255,255,255,0.09);
  background:rgba(12,18,40,0.9);
  padding:6px 12px;
  font-size:13px;
  cursor:pointer;
  color:var(--muted);
  transition:background .15s, color .15s, border-color .15s;
}
.help-tabs button.active{
  background:linear-gradient(135deg,#3b82f6,#6366f1);
  color:#fff;
  border-color:rgba(255,255,255,0.3);
}
.help-body{
  margin-top:4px;
  max-height:320px;
  overflow:auto;
  padding-right:4px;
  font-size:13px;
}
.help-section{
  display:none;
  color:var(--muted);
}
.help-section.active{
  display:block;
}
.help-section h3{
  font-size:16px;
  margin:4px 0 8px;
  color:var(--ink);
}
.help-section h4{
  font-size:14px;
  margin:10px 0 4px;
  color:#e5e7ff;
}
.help-section p{
  margin:4px 0 6px;
}
.help-section ul{
  padding-left:18px;
  margin:4px 0 8px;
}
.help-section li{
  margin:2px 0;
}

/* 속성 Pill */
.pill{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:2px 8px;
  border-radius:999px;
  font-size:11px;
  font-weight:600;
  margin-right:4px;
}
.pill-fire{background:#ef4444;color:#fff;}
.pill-poison{background:#a855f7;color:#fff;}
.pill-electric{background:#facc15;color:#111827;}
.pill-water{background:#0ea5e9;color:#f9fafb;}
.pill-normal{background:#6b7280;color:#f9fafb;}

/* Form / table */

.field{
  display:flex;
  flex-direction:column;
  gap:4px;
  font-size:12px;
}
.field label{
  color:var(--muted);
}
.field input{
  border-radius:12px;
  border:1px solid rgba(148,163,184,0.8);
  background:rgba(15,23,42,0.9);
  color:var(--ink);
  padding:7px 10px;
  font-size:13px;
}
.table{
  width:100%;
  border-collapse:collapse;
  font-size:12px;
  margin-top:8px;
}
.table th,
.table td{
  padding:4px 6px;
  text-align:left;
}
.table thead{
  background:rgba(15,23,42,0.95);
}
.table tbody tr:nth-child(odd){
  background:rgba(15,23,42,0.7);
}
.table tbody tr:nth-child(even){
  background:rgba(15,23,42,0.9);
}

/* Game over info */

.gameover-info{
  font-size:11px;
  color:var(--muted);
  margin:4px 0 6px;
}

/* Toast */

.toast{
  position:fixed;
  left:50%;
  top:16px;
  transform:translateX(-50%);
  padding:6px 12px;
  border-radius:999px;
  background:rgba(15,23,42,0.95);
  border:1px solid rgba(148,163,184,0.7);
  color:var(--ink);
  font-size:12px;
  opacity:0;
  pointer-events:none;
  transition:opacity .2s ease, transform .2s ease;
  z-index:80;
}
.toast.show{
  opacity:1;
  transform:translateX(-50%) translateY(2px);
}

/* Damage float */

.damage-float{
  position:absolute;
  font-weight:700;
  color:#fbbf24;
  pointer-events:none;
  animation:floatUp .9s ease-out forwards;
  text-shadow:0 0 12px rgba(0,0,0,0.9);
}
.damage-player{color:#f97373;}
.damage-enemy{color:#34d399;}
.damage-heal{color:#22c55e;}
.damage-miss{color:#e5e7eb;}

@keyframes floatUp{
  from{opacity:0; transform:translate(-50%,12px);}
  30%{opacity:1;}
  to{opacity:0; transform:translate(-50%,-18px);}
}
